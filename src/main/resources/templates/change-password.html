<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
	<head>
		<title>Change Password</title>
		
		<script
		  src="https://code.jquery.com/jquery-3.7.1.min.js"
		  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
		  crossorigin="anonymous"></script>
	</head>
	<body>
		<h1>Change Password</h1>
		<form th:object="${formData}" th:action="@{/change-password}" method="post">
			<input type="hidden" th:field="*{token}" id="token">
			<div>
				<label for="password" th:text="#{form.password}">Password</label>
				<input type="password" id="password" 
					th:field="*{password}" th:classappend="${#fields.hasErrors('password') ? 'is-invalid' : ''}">
				<div id="validationPassword" class="invalid-feedback" 
					th:if="${#fields.hasErrors('password')}" th:utext="${#strings.listJoin(#fields.errors('password'), '&lt;br&gt;')}">
					Sample Error
				</div>
			</div>
			<div>
				<label for="confirm" th:text="#{form.confirmPassword}">Confirm Password</label>
				<input type="password" id="confirm" 
					th:field="*{confirm}" th:classappend="${#fields.hasErrors('confirm') ? 'is-invalid' : ''}">
				<div id="validationConfirm" class="invalid-feedback" 
					th:if="${#fields.hasErrors('confirm')}" th:utext="${#strings.listJoin(#fields.errors('confirm'), '&lt;br&gt;')}">
					Sample Error
				</div>
			</div>		
			<input type="submit" value="Change Password" />
		</form>
	</body>
	
	<script th:src="@{/js/pwstrength-bootstrap.min.js}"></script>
	<script type="text/javascript">
		$(document).ready(function () {
		    options = {
		        common: {minChar:8},
		        ui: {
		            showVerdictsInsideProgressBar:true,
		            showErrors:true,
		            errorMessages:{
		                wordLength: '<spring:message code="error.wordLength"/>',
		                wordNotEmail: '<spring:message code="error.wordNotEmail"/>',
		                wordSequences: '<spring:message code="error.wordSequences"/>',
		                wordLowercase: '<spring:message code="error.wordLowercase"/>',
		                wordUppercase: '<spring:message code="error.wordUppercase"/>',
		                wordOneNumber: '<spring:message code="error.wordOneNumber"/>',
		                wordOneSpecialChar: '<spring:message code="error.wordOneSpecialChar"/>'
		            }
		        }
		    };
		    $('#password').pwstrength(options);
		});
	</script>
</html>